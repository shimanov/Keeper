# Keeper

[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)
[![Build Status](https://travis-ci.org/shimanov/Keeper.svg?branch=master)](https://travis-ci.org/shimanov/Keeper)

Утилита для перезапуска служб и выполнения sql скриптов
-----------------------

Алгоритм работы утилиты:
-----------------------
### Если в каталоге Export нет файла gmmq.packedge.end, тогда:
* Производится очистка каталога от всех файлов и подкаталогов
* Выполняется скрипт на выгрузку реплики

### Если в каталоге Export есть файл gmmq.packedge.end, тогда
* Выполняется скрипт на всасывание реплики
* Если файл gmmq.packedge.end отсутствует, очищаем каталог 
         и выполняем скрипты на выгрузку реплики и смещение шедулера


## v.2.1.3.4 - 25.07.2017 [Download](https://1drv.ms/u/s!AmVULWiHxF-v8m1_bJqd411iKycb)
### Исправлено:
* Перезапуск служб производится через 5 минут после отработки скрипта и очистки каталогов

## v.2.1.3.2 - 23.06.2017 [Download](https://onedrive.live.com/embed?cid=AF5FC487682D5465&resid=AF5FC487682D5465%2114696&authkey=ALmvXe4wZTf0Q8I)
### Новое в версии:
* В консоль выводится шапка с контактами
* В консоль выводится ход выполнения утилиты
* Задачи выполняются поочередно
### Исправлено:
* Скрипт на сдвиг шедулера не используется, т.к. формируется вторая не полная реплика
